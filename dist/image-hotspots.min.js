/*! image-hotspots 0.2.5 - 2013-07-29 */!function(a,b){var c='<div class="img-hotspot-container {{direction}}" style="width:1px; display:inline-block;"><table><tr><td class="img-hotspot-button {{direction}}"><div class="closed"></div></td><td><div class="img-hotspot-title {{direction}}" style="width: {{width}}px;">{{title}}</div></td></tr><tr class="img-hotspot-desc-body {{direction}}"><td colspan="2"><div class="img-hotspot-desc {{direction}}">{{desc}}</div></td></tr></table></div>',d='<div class="img-hotspot-container {{direction}}" style="width:1px; display:inline-block;"><table style="float:right;"><tr><td><div class="img-hotspot-title {{direction}}" style="width: {{width}}px;">{{title}}</div></td><td class="img-hotspot-button {{direction}}"><div class="closed"></td></tr><tr class="img-hotspot-desc-body {{direction}}"><td colspan="2"><div class="img-hotspot-desc {{direction}}">{{desc}}</div></td></tr></table></div>';a.fn.hotspots=function(){var e="closed",f="opened";return this.each(function(g,h){var i=1,j=a(h),k=j.find("img");k.css({position:"absolute"});var l=j.find("ul"),m=j.find("ul li");l.hide();var n;m.each(function(g,h){var l,m,o=a(h),p=o.attr("posx"),q=o.attr("posy"),r=o.attr("width"),s=o.attr("height"),t="right";p>j.width()/2&&(t="left");var u=o.attr("direction");u&&(t=u);var v=o.find("label").text(),w=a(o.contents()[1]).text(),x="left"==t?d:c,y="left"==t?"right":"left",z=a(x.replace("{{title}}",v).replace("{{desc}}",w).replace("{{width}}",r).replace(/{{direction}}/g,t));j.append(z),z.css({height:"1px","z-index":i}),z.position({of:k,my:y+" top",at:"left top",collision:"flip flip"}),z.css({top:q+"px",left:p+"px",position:"relative"});var A=z.find(".img-hotspot-title");l=A.css("width"),A.css({width:"0px"}),A.hide();var B=z.find(".img-hotspot-desc");m=B.css("height"),s&&(m=s),B.css({height:"0px"}),B.hide(),z.find(".img-hotspot-button").click(function(){if(!B.is(":animated")&&!A.is(":animated")){j.find(".img-hotspot-container").each(function(b,c){a(c).css({"z-index":i})});var c=a(this).parent().parent().parent().parent(".img-hotspot-container"),d=c.find(".img-hotspot-button div"),g=c.find(".img-hotspot-title"),h=c.find(".img-hotspot-desc");if(g.is(":visible"))c.css({"z-index":i}),B.animate({height:"0px"},{duration:400,complete:function(){h.css({display:"none"}),g.animate({width:"0px"},{duration:400,complete:function(){g.css({display:"none"})}})}}),d.removeClass(f).addClass(e),n=b;else{if(n){var k=n.find(".img-hotspot-button div"),o=n.find(".img-hotspot-title"),p=n.find(".img-hotspot-desc");n.css({"z-index":i}),B.animate({height:"0px"},{duration:400,complete:function(){p.css({display:"none"}),o.animate({width:"0px"},{duration:400,complete:function(){o.css({display:"none"})}})}}),k.removeClass(f).addClass(e)}c.css({"z-index":i+100}),g.css({display:"block"}),g.animate({width:l},{duration:400,complete:function(){h.css({display:"block"}),h.animate({height:m},{duration:400})}}),d.removeClass(e).addClass(f),n=c}}})}),l.remove()})}}(jQuery);