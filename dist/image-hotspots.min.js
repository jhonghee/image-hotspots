/*! image-hotspots 0.2.1 - 2013-07-24 */!function(a,b){var c='<div class="img-hotspot-container {{direction}}" style="width:1px; display:inline-block;"><table><tr><td class="img-hotspot-button {{direction}}"><div class="closed"></div></td><td><div class="img-hotspot-title {{direction}}" style="width: {{width}}px;">{{title}}</div></td></tr><tr class="img-hotspot-desc-body {{direction}}"><td colspan="2"><div class="img-hotspot-desc {{direction}}">{{desc}}</div></td></tr></table></div>',d='<div class="img-hotspot-container {{direction}}" style="width:1px; display:inline-block;"><table style="float:right;"><tr><td><div class="img-hotspot-title {{direction}}" style="width: {{width}}px;">{{title}}</div></td><td class="img-hotspot-button {{direction}}"><div class="closed"></td></tr><tr class="img-hotspot-desc-body {{direction}}"><td colspan="2"><div class="img-hotspot-desc {{direction}}">{{desc}}</div></td></tr></table></div>';a.fn.hotspots=function(){var e="closed",f="opened";return this.each(function(g,h){var i=1,j=a(h),k=j.find("img");k.css({position:"absolute"});var l=j.find("ul"),m=j.find("ul li");l.hide();var n;m.each(function(g,h){var l,m,o=a(h),p=o.attr("posx"),q=o.attr("posy"),r=o.attr("width"),s="right";p>j.width()/2&&(s="left");var t=o.attr("direction");t&&(s=t);var u=o.find("label").text(),v=o.text(),w="left"==s?d:c,x="left"==s?"right":"left",y=a(w.replace("{{title}}",u).replace("{{desc}}",v).replace("{{width}}",r).replace(/{{direction}}/g,s));j.append(y),y.css({height:"1px","z-index":i}),y.position({of:k,my:x+" top",at:"left top",collision:"flip flip"}),y.css({top:q+"px",left:p+"px",position:"relative"});var z=y.find(".img-hotspot-title");l=z.css("width"),z.css({width:"0px"}),z.hide();var A=y.find(".img-hotspot-desc");m=A.css("height"),A.css({height:"0px"}),A.hide(),y.find(".img-hotspot-button").click(function(){j.find(".img-hotspot-container").each(function(b,c){a(c).css({"z-index":i})});var c=a(this).parent().parent().parent().parent(".img-hotspot-container"),d=c.find(".img-hotspot-button div"),g=c.find(".img-hotspot-title"),h=c.find(".img-hotspot-desc");if(g.is(":visible"))c.css({"z-index":i}),A.animate({height:"0px"},{duration:400,complete:function(){h.css({display:"none"}),g.animate({width:"0px"},{duration:400,complete:function(){g.css({display:"none"})}})}}),d.removeClass(f).addClass(e),n=b;else{if(n){var k=n.find(".img-hotspot-button div"),o=n.find(".img-hotspot-title"),p=n.find(".img-hotspot-desc");n.css({"z-index":i}),A.animate({height:"0px"},{duration:400,complete:function(){p.css({display:"none"}),o.animate({width:"0px"},{duration:400,complete:function(){o.css({display:"none"})}})}}),k.removeClass(f).addClass(e)}c.css({"z-index":i+100}),g.css({display:"block"}),g.animate({width:l},{duration:400,complete:function(){h.css({display:"block"}),h.animate({height:m},{duration:400})}}),d.removeClass(e).addClass(f),n=c}})}),l.remove()})}}(jQuery);